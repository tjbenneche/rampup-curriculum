# Data Manipulation

## Class Workflow
1. Ajax
2. Iterating through (.each)
3. DOM manipulation (append, insertafter insertbefore)

## AJAX

AJAX stands for Asynchronous JavaScript and XML — though the name is somewhat misleading, as most AJAX requests deal with data formats other than XML, like JSON and HTML. At its core, it is used to request data to or from a server without reloading the page (e.g. how Facebook refreshes your newsfeed or Gmail fetches new emails). It does this via the XMLHttpRequest API, which consists of a number of different types of requests (depending on whether or not you are trying to receive or post data). For the purposes of this class, we will focus on two: GET and POST.

For the most part, AJAX requests only work if the request is coming from the [same origin](https://en.wikipedia.org/wiki/Same-origin_policy) as the data, though there has been some movement toward [Cross-Origin data sharing as of late](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing). This means that for us to interact with data — since our sites are not hosted live on a server — we need to download a JSON file locally and include it in our projects.

## .ajax()

.ajax() is jQuery's native function for handling http requests. There are more specific functions as well such as .get() and .post(), but the results of each of those can be accomplished using the parent .ajax() function on its own.
 
[http://stackoverflow.com/questions/9638853/where-can-i-practice-making-ajax-calls](http://stackoverflow.com/questions/9638853/where-can-i-practice-making-ajax-calls)

### HTTP requests

An HTTP (HyperText Transfor Protocol) request is the act of a _client_ requesting to post/receive data to/from a web server. That client may be a web browser (as is the case in our pursuits), a mobile app, a terminal, etc. The two most common types of requests are GET and POST, the two we will be focusing on today. Other common requests are HEAD (same as GET but without the actual body/data, so useful for retrieving meta-data), PUT (used for updating an existing resource), and DELETE (deletes the specified resource).

### GET

A GET request is a message to a server requesting a representation of a _specific resource_, and should _only_ retrieve data, never post it.

### POST

A POST request is a message to a server requesting that it accept data as a subset of the specified URI.

.html


## Callbacks

$.get( "myhtmlpage.html", myCallBack );

Executing callbacks with arguments can be tricky.

link Wrong

This code example will not work:

1
$.get( "myhtmlpage.html", myCallBack( param1, param2 ) );
The reason this fails is that the code executes myCallBack( param1, param2 ) immediately and then passes myCallBack()'s return value as the second parameter to $.get(). We actually want to pass the function myCallBack(), not myCallBack( param1, param2 )'s return value (which might or might not be a function). So, how to pass in myCallBack() and include its arguments?

link Right

To defer executing myCallBack() with its parameters, you can use an anonymous function as a wrapper. Note the use of function() {. The anonymous function does exactly one thing: calls myCallBack(), with the values of param1 and param2.

1
2
3
4
5
$.get( "myhtmlpage.html", function() {
 
    myCallBack( param1, param2 );
 
});


## Waiting for DOM to load

This function is slightly better than the original JavaScript one, as it will run as soon as the DOM is ready to manipulated, rather than waiting for all images to load.
$(document).ready(function(){

});

window.onload = function() {
 
    alert( "welcome" );
 
};



## .load()

insert HTML directly into matched element

## Resources

[http://rve.org.uk/dumprequest](http://rve.org.uk/dumprequest)
