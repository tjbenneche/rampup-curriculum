# The CSS Box Model & Positioning: A Complex Love Story

## The Box Model

**Every** visible HTML element — be it text, a container, an image, etc — is rendered by the browser as a rectangle. An old technique for visualizing this when building the layout of a page was adding a CSS background-color or border to each element, and now there is a wonderful Chrome and Safari extension that does just that called [Pesticide](http://pesticide.io/).

So much time and thought has gone into visualizing elements' boxiness because it is fundamental to understanding and constructing the layout of a webpage. Back in its CSS 1 recommendation, the w3 introduced a formatting guide called the [Box Model](https://developer.mozilla.org/en-US/docs/Web/CSS/box_model). This model explains how _width_, _height_, _padding_, _border_ and _margin_ get applied to an element.

<div style="width:300px; height:200px; border:1px dashed black; background-color:orange;">
	
    <p style="text-align:center;">margin</p>
	<div style="width:250px; height:150px; border:1px solid black; background-color:green; margin:-10px auto 0;">
    
    	<p style="color:white; text-align:center;">padding</p>
        <div style="width:200px; height:100px; background-color:white; margin:-10px auto 0;">
        	
            <p style="text-align:center;">element</p>
        </div>
    </div>
</div>


As we mentioned last week, the properties for setting the width and height of an element are _width_ and _height_, respectively. However, to take a more technical look at things, what we are really setting is the width of the content box. You can think of an element as being contained in three boxes: content box, padding box, and margin box — with border falling between margin and padding.

So, if we have the following CSS applied to a div:

	div{
      width:300px;
      padding:20px;
      margin-left:30px;
    }

the width of the content box (just the element itself) is 300px, but the full calculated width (as rendered by the browser) can be calculated like so:

_margin-left + border-left + padding-left + content width + padding-right + border-right + margin-right_

which, in this case would evaluate to: 30px + 20px + 300px + 20px = 370px

In the near future, browsers will likely adopt support of a new CSS property called [box-sizing](https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing), which should simplifiy this a bit by allowing you to tell the browser to include more of these layers in the standard _width_ property.

## Document Flow

This term will come up quite a bit over the next couple weeks, so let's get a working definition out of the way: the _normal document flow_ is the default way elements get laid out on a webpage. Generally speaking, elements are laid out from top to bottom in the order in which they appear in the code, and do their best not to overlap each other. When an element is taken _out of the normal flow_, it may ignore its sibling elements (in the case of _float_ and _position: absolute_, or even ignore its parent elements all the way up to the _body_ tag (in the case of _position: fixed_).

## Position

### position: static

By default, all HTML elements are set to _position: static_. A statically positioned element behaves as expected in the normal flow of the document, much like a relatively positioned element. Where it differs is that it does not respond to _top_, _right_, _bottom_ or _left_ properties.

### position: relative

A relatively positioned element is by most accounts indistinguishable from a statically postioned one, in that it remains in the normal document flow. Some key differences include responding to _top_, _right_, _bottom_ or _left_ properties, and allowing a child element to be absolutely positioned within it.

### position: absolute

An absolutely positioned element is taken out of the normal flow of the document. 



